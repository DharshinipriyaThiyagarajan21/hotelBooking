<div class="container-fluid" ng-controller="bookingController" ng-init="initRoomtype()">
	<div>
	</div>
	<div class="container">
		<div class="header">
			<h1>Booking</h1>
		</div>
		<!-- <div>
			<div class="form-group">
				<div class="col-md-offset-3 col-md-3 padl">
					<label>Room Types</label>
				</div>
				<div class="col-md-3 padr">
					<select ng-repeat="roomtype in roomtypes" class="form-control">
						<option>{{roomtype}}</option>
					</select>
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="form-group">
				<div class="col-md-offset-3 col-md-3 padl">
					<label>Check in</label>
				</div>
				<div class="col-md-3 padr">
					<input type="date" class="form-control">
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="form-group">
				<div class="col-md-offset-3 col-md-3 padl">
					<label>Check out</label>
				</div>
				<div class="col-md-3 padr">
					<input type="date" class="form-control">
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="form-group">
				<div class="col-md-offset-3 col-md-3 padl">
					<label>No. of rooms needed</label>
				</div>
				<div class="col-md-3 padr">
					<input type="text" class="form-control">
				</div>
				<div class="clearfix"></div>
			</div>		
		</div> -->
		<div class="booking-info">
			<div class="form-group">
				<div class="col-md-3 text-right padl">
					<label>Check in</label>
				</div>
				<div class="col-md-9 padr">
					<div class="col-md-3">
						<input type="date" class="form-control" ng-model="booking.checkin" ng-change="fillCheckout()">
					</div>
					<div class="col-md-3 text-right padl">
						<label>Check out</label>
					</div>
					<div class="col-md-3 padr">
						<input type="date" class="form-control" ng-model="booking.checkout">
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="form-group">
				<div>
					<div class="col-md-3 text-right padl">
						<label>Room types</label>
					</div>
					<div class="col-md-9 padr">
						<div class="col-md-3">
							<select ng-model="booking.roomtype" class="form-control" ng-change="availablecheck()">
								<option default value="">Select roomtype</option>
								<option ng-repeat="roomtype in roomtypes" value="{{roomtype.room_type}}">{{roomtype.room_type}}</option>
							</select>
						</div>
						
						<div class="col-md-2" ng-hide="showCapacity">
							<input type="text" class="form-control" ng-model="booking.roomCount" placeholder="Capacity" ng-change="capacityMsg()"/>
						</div>
						<div class="col-md-4">
							<button class="btn btn-default pull-right" ng-click="checkAvailability()">Check Availability</button>
						</div>
						<div class="col-md-3 padr" ng-show="showCapacityLess">
							only {{capacity}} rooms are available
						</div>
						<div class="col-md-3 padr" ng-show="showCapacityMsg">
							No Rooms Available for this date
						</div>
						
					</div>
					<div class="clearfix"></div>
					<br>
				</div>			
			</div>
			<!-- <div class="col-md-10 padr">
				<div class="clearfix"></div>
				<div class="text-right" >
					<a ng-click="addRoom()">Add Room</a>
					<p></p>
				</div>
				<div class="clearfix"></div>
			</div> -->
			<div>
				<div class="col-md-6">
					<button class="btn btn-default pull-right" onclick="location.href='../hotels/index'">Back</button>
				</div>
				<div class="col-md-6">
					<button class="btn btn-default" ng-click="saveBooking()" ng-disabled="save">Book</button>
				</div>
			</div>
			
		</div>
	</div>
</div>

<script type="text/javascript">
	var roomtype = <%= @rooms.to_json.html_safe %>
	var hotel =  <%= @hotel.to_json.html_safe %>
</script>